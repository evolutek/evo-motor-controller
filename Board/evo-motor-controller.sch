EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "evo-motor-controller"
Date "2022-12-03"
Rev "V1.0"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_ST_STM32F1:STM32F103C8Tx U3
U 1 1 63810D2B
P 5800 2800
F 0 "U3" H 6750 4000 50  0000 C CNN
F 1 "STM32F103C8Tx" H 6750 3900 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 5200 1400 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 5800 2800 50  0001 C CNN
	1    5800 2800
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:NCP718xSN330 U2
U 1 1 638123C2
P 5300 5500
F 0 "U2" H 5300 5867 50  0000 C CNN
F 1 "NCP718xSN330" H 5300 5776 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-5" H 5300 5850 50  0001 C CNN
F 3 "https://www.onsemi.com/pub/Collateral/NCP718-D.PDF" H 5300 6000 50  0001 C CNN
	1    5300 5500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C8
U 1 1 63812C30
P 4650 5600
F 0 "C8" H 4765 5646 50  0000 L CNN
F 1 "1uF" H 4765 5555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4688 5450 50  0001 C CNN
F 3 "~" H 4650 5600 50  0001 C CNN
	1    4650 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 5400 4650 5400
$Comp
L power:VCC #PWR0101
U 1 1 638138AA
P 4150 5200
F 0 "#PWR0101" H 4150 5050 50  0001 C CNN
F 1 "VCC" H 4165 5373 50  0000 C CNN
F 2 "" H 4150 5200 50  0001 C CNN
F 3 "" H 4150 5200 50  0001 C CNN
	1    4150 5200
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 5500 5000 5400
Connection ~ 5000 5400
$Comp
L power:GND #PWR0102
U 1 1 63814701
P 5300 5800
F 0 "#PWR0102" H 5300 5550 50  0001 C CNN
F 1 "GND" H 5305 5627 50  0000 C CNN
F 2 "" H 5300 5800 50  0001 C CNN
F 3 "" H 5300 5800 50  0001 C CNN
	1    5300 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 5800 5300 5800
Wire Wire Line
	4650 5450 4650 5400
Wire Wire Line
	4650 5750 4650 5800
$Comp
L Device:C C11
U 1 1 638156BC
P 5800 5550
F 0 "C11" H 5915 5596 50  0000 L CNN
F 1 "1uF" H 5915 5505 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5838 5400 50  0001 C CNN
F 3 "~" H 5800 5550 50  0001 C CNN
	1    5800 5550
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5600 5400 5800 5400
Wire Wire Line
	5300 5800 5800 5800
Wire Wire Line
	5800 5800 5800 5700
Connection ~ 5300 5800
$Comp
L power:+3.3V #PWR0103
U 1 1 63816323
P 6550 5200
F 0 "#PWR0103" H 6550 5050 50  0001 C CNN
F 1 "+3.3V" H 6565 5373 50  0000 C CNN
F 2 "" H 6550 5200 50  0001 C CNN
F 3 "" H 6550 5200 50  0001 C CNN
	1    6550 5200
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x07_Odd_Even J2
U 1 1 6381AEF7
P 1800 5500
F 0 "J2" H 1850 5950 50  0000 C CNN
F 1 "FTSH-107-01-L-DV-K" H 1850 5000 50  0000 C CNN
F 2 "ConnectorsEvo:SAMTEC_FTSH-107-01-L-DV-K" H 1800 5500 50  0001 C CNN
F 3 "~" H 1800 5500 50  0001 C CNN
	1    1800 5500
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_C_Receptacle_USB2.0 J1
U 1 1 63828FE0
P 1150 1700
F 0 "J1" H 1257 2567 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 1257 2476 50  0000 C CNN
F 2 "" H 1300 1700 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1300 1700 50  0001 C CNN
	1    1150 1700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0104
U 1 1 6382B10E
P 3300 1100
F 0 "#PWR0104" H 3300 950 50  0001 C CNN
F 1 "+5V" H 3315 1273 50  0000 C CNN
F 2 "" H 3300 1100 50  0001 C CNN
F 3 "" H 3300 1100 50  0001 C CNN
	1    3300 1100
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 6382B72F
P 2200 1300
F 0 "R1" V 2100 1300 50  0000 C CNN
F 1 "5.1K" V 2200 1300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2130 1300 50  0001 C CNN
F 3 "~" H 2200 1300 50  0001 C CNN
	1    2200 1300
	0    1    1    0   
$EndComp
Wire Wire Line
	1750 1700 1750 1600
Wire Wire Line
	1750 1700 2300 1700
Connection ~ 1750 1700
Wire Wire Line
	1750 1800 1750 1900
Wire Wire Line
	1750 1800 2100 1800
Connection ~ 1750 1800
Text Label 2600 1700 2    50   ~ 0
USB-
Text Label 2600 1800 2    50   ~ 0
USB+
NoConn ~ 1750 2200
NoConn ~ 1750 2300
Wire Wire Line
	850  2600 1150 2600
$Comp
L Device:C C3
U 1 1 6382E2D9
P 2800 1750
F 0 "C3" H 2915 1796 50  0000 L CNN
F 1 "10uF" H 2915 1705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2838 1600 50  0001 C CNN
F 3 "~" H 2800 1750 50  0001 C CNN
	1    2800 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 1900 2800 2600
Connection ~ 1150 2600
$Comp
L power:GND #PWR0105
U 1 1 6382FE0C
P 1800 2600
F 0 "#PWR0105" H 1800 2350 50  0001 C CNN
F 1 "GND" H 1805 2427 50  0000 C CNN
F 2 "" H 1800 2600 50  0001 C CNN
F 3 "" H 1800 2600 50  0001 C CNN
	1    1800 2600
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 63830DC7
P 2100 2250
F 0 "C1" H 1986 2204 50  0000 R CNN
F 1 "47pF" H 1986 2295 50  0000 R CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2138 2100 50  0001 C CNN
F 3 "~" H 2100 2250 50  0001 C CNN
	1    2100 2250
	1    0    0    1   
$EndComp
$Comp
L Device:C C2
U 1 1 63831A5F
P 2300 2250
F 0 "C2" H 2415 2296 50  0000 L CNN
F 1 "47pF" H 2415 2205 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2338 2100 50  0001 C CNN
F 3 "~" H 2300 2250 50  0001 C CNN
	1    2300 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2650 2600 2300 2600
Wire Wire Line
	2800 2600 2650 2600
Connection ~ 2650 2600
Wire Wire Line
	2650 1300 2650 1400
Wire Wire Line
	2100 2100 2100 1800
Connection ~ 2100 1800
Wire Wire Line
	2100 1800 2600 1800
Wire Wire Line
	2100 2400 2100 2600
Connection ~ 2100 2600
Connection ~ 1800 2600
Wire Wire Line
	1800 2600 1150 2600
Wire Wire Line
	1800 2600 2100 2600
Wire Wire Line
	2300 1700 2300 2100
Connection ~ 2300 1700
Wire Wire Line
	2300 1700 2600 1700
Wire Wire Line
	2300 2400 2300 2600
Connection ~ 2300 2600
Wire Wire Line
	2300 2600 2100 2600
$Comp
L Device:R R2
U 1 1 63838450
P 2200 1400
F 0 "R2" V 2100 1400 50  0000 C CNN
F 1 "5.1K" V 2200 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2130 1400 50  0001 C CNN
F 3 "~" H 2200 1400 50  0001 C CNN
	1    2200 1400
	0    1    -1   0   
$EndComp
NoConn ~ 1600 5200
NoConn ~ 2100 5200
Wire Wire Line
	1600 5300 1100 5300
$Comp
L power:+3.3V #PWR0106
U 1 1 6384848F
P 1100 5300
F 0 "#PWR0106" H 1100 5150 50  0001 C CNN
F 1 "+3.3V" H 1115 5473 50  0000 C CNN
F 2 "" H 1100 5300 50  0001 C CNN
F 3 "" H 1100 5300 50  0001 C CNN
	1    1100 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 5400 1500 5400
$Comp
L power:GND #PWR0107
U 1 1 6384BB11
P 1100 5400
F 0 "#PWR0107" H 1100 5150 50  0001 C CNN
F 1 "GND" H 1105 5227 50  0000 C CNN
F 2 "" H 1100 5400 50  0001 C CNN
F 3 "" H 1100 5400 50  0001 C CNN
	1    1100 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 5800 1100 5800
Text Label 1100 5800 0    50   ~ 0
VCP_TX
Wire Wire Line
	2100 5800 2600 5800
Text Label 2600 5800 2    50   ~ 0
VCP_RX
Wire Wire Line
	2100 5700 2600 5700
Text Label 2600 5700 2    50   ~ 0
~RST
Wire Wire Line
	2100 5300 2600 5300
Text Label 2600 5300 2    50   ~ 0
SWDIO
Wire Wire Line
	2100 5400 2600 5400
Text Label 2600 5400 2    50   ~ 0
SWCLK
NoConn ~ 2100 5500
NoConn ~ 2100 5600
NoConn ~ 1600 5600
Wire Wire Line
	1500 5400 1500 5500
Wire Wire Line
	1500 5700 1600 5700
Connection ~ 1500 5400
Wire Wire Line
	1500 5400 1100 5400
Wire Wire Line
	1600 5500 1500 5500
Connection ~ 1500 5500
Wire Wire Line
	1500 5500 1500 5700
Text Label 650  3900 0    50   ~ 0
SDA
Text Label 650  4200 0    50   ~ 0
SCL
Text Label 650  3700 0    50   ~ 0
~RST_MOTOR
Wire Wire Line
	650  3700 1100 3700
Wire Wire Line
	650  4200 1100 4200
Wire Wire Line
	650  3900 1100 3900
Wire Wire Line
	650  3600 1100 3600
Text Label 650  3600 0    50   ~ 0
ERR_MOTOR
Text Label 8350 5550 2    50   ~ 0
OUTA
Wire Wire Line
	8050 5550 8350 5550
Text Label 8350 5450 2    50   ~ 0
OUTB
Wire Wire Line
	8050 5450 8350 5450
$Comp
L Device:D D4
U 1 1 638B55F0
P 4450 5400
F 0 "D4" H 4600 5350 50  0000 C CNN
F 1 "D" H 4350 5350 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-523" H 4450 5400 50  0001 C CNN
F 3 "~" H 4450 5400 50  0001 C CNN
	1    4450 5400
	-1   0    0    1   
$EndComp
$Comp
L Device:CP C15
U 1 1 638B7D73
P 8500 5500
F 0 "C15" H 8618 5546 50  0000 L CNN
F 1 "470uF" H 8618 5455 50  0000 L CNN
F 2 "Capacitor_THT:CP_Radial_D10.0mm_P5.00mm" H 8538 5350 50  0001 C CNN
F 3 "~" H 8500 5500 50  0001 C CNN
	1    8500 5500
	1    0    0    -1  
$EndComp
Connection ~ 4650 5400
$Comp
L Device:D D3
U 1 1 638C11B7
P 4450 5200
F 0 "D3" H 4600 5150 50  0000 C CNN
F 1 "D" H 4350 5150 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-523" H 4450 5200 50  0001 C CNN
F 3 "~" H 4450 5200 50  0001 C CNN
	1    4450 5200
	-1   0    0    1   
$EndComp
Wire Wire Line
	4650 5200 4650 5400
Wire Wire Line
	4150 5200 4300 5200
$Comp
L power:+5V #PWR0108
U 1 1 638C53A0
P 4000 5400
F 0 "#PWR0108" H 4000 5250 50  0001 C CNN
F 1 "+5V" H 4015 5573 50  0000 C CNN
F 2 "" H 4000 5400 50  0001 C CNN
F 3 "" H 4000 5400 50  0001 C CNN
	1    4000 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 5400 4300 5400
Text Label 10150 2200 2    50   ~ 0
OUTA
Text Label 10150 2500 2    50   ~ 0
OUTB
$Comp
L Device:C C13
U 1 1 638D4027
P 8250 1600
F 0 "C13" H 8365 1646 50  0000 L CNN
F 1 "100nF" H 8365 1555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8288 1450 50  0001 C CNN
F 3 "~" H 8250 1600 50  0001 C CNN
	1    8250 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 1450 8250 1450
Connection ~ 8250 1450
Wire Wire Line
	8550 1750 8250 1750
Connection ~ 8250 1750
$Comp
L power:GND #PWR0109
U 1 1 638E6602
P 7700 1750
F 0 "#PWR0109" H 7700 1500 50  0001 C CNN
F 1 "GND" H 7705 1577 50  0000 C CNN
F 2 "" H 7700 1750 50  0001 C CNN
F 3 "" H 7700 1750 50  0001 C CNN
	1    7700 1750
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR0110
U 1 1 638E6FEB
P 7700 1450
F 0 "#PWR0110" H 7700 1300 50  0001 C CNN
F 1 "VCC" H 7715 1623 50  0000 C CNN
F 2 "" H 7700 1450 50  0001 C CNN
F 3 "" H 7700 1450 50  0001 C CNN
	1    7700 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 2050 8200 2050
Text Label 8200 2050 0    50   ~ 0
INA
Text Label 8200 2150 0    50   ~ 0
INB
Wire Wire Line
	8200 2150 8550 2150
Text Label 8200 2250 0    50   ~ 0
PWM
Wire Wire Line
	8200 2250 8550 2250
Wire Wire Line
	8550 2350 8200 2350
Text Label 8200 2350 0    50   ~ 0
SEL0
Wire Wire Line
	8550 2450 8200 2450
Text Label 8200 2450 0    50   ~ 0
SEL1
Wire Wire Line
	8550 2550 8200 2550
Text Label 8200 2550 0    50   ~ 0
MS_EN
Wire Wire Line
	9850 1450 10000 1450
Text Label 10550 1450 2    50   ~ 0
MS
$Comp
L power:GND #PWR0111
U 1 1 63913B1E
P 8800 5650
F 0 "#PWR0111" H 8800 5400 50  0001 C CNN
F 1 "GND" H 8805 5477 50  0000 C CNN
F 2 "" H 8800 5650 50  0001 C CNN
F 3 "" H 8800 5650 50  0001 C CNN
	1    8800 5650
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR0112
U 1 1 63915C37
P 8800 5350
F 0 "#PWR0112" H 8800 5200 50  0001 C CNN
F 1 "VCC" H 8815 5523 50  0000 C CNN
F 2 "" H 8800 5350 50  0001 C CNN
F 3 "" H 8800 5350 50  0001 C CNN
	1    8800 5350
	1    0    0    -1  
$EndComp
Connection ~ 8500 5350
Wire Wire Line
	8500 5350 8800 5350
$Comp
L ComponentsEvo:VNH7040AYTR U4
U 1 1 6391A415
P 9200 1950
F 0 "U4" H 9200 2837 60  0000 C CNN
F 1 "VNH7040AYTR" H 9200 2731 60  0000 C CNN
F 2 "ComponentsEvo:VNH7040AYTR" H 9200 1500 60  0001 C CNN
F 3 "" H 9200 1950 60  0000 C CNN
	1    9200 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	8050 5350 8500 5350
Wire Wire Line
	8050 5650 8500 5650
Connection ~ 8500 5650
Wire Wire Line
	8500 5650 8800 5650
Wire Wire Line
	1100 4100 1000 4100
Wire Wire Line
	1000 4100 1000 4300
$Comp
L power:GND #PWR0113
U 1 1 63923CA7
P 1000 4300
F 0 "#PWR0113" H 1000 4050 50  0001 C CNN
F 1 "GND" H 1005 4127 50  0000 C CNN
F 2 "" H 1000 4300 50  0001 C CNN
F 3 "" H 1000 4300 50  0001 C CNN
	1    1000 4300
	1    0    0    -1  
$EndComp
NoConn ~ 1100 4000
NoConn ~ 2150 3500
NoConn ~ 1100 3800
NoConn ~ 1100 3500
Wire Wire Line
	1750 1100 2800 1100
Wire Wire Line
	3200 1100 3300 1100
$Comp
L Device:D D1
U 1 1 639413B9
P 2450 3600
F 0 "D1" H 2600 3550 50  0000 C CNN
F 1 "D" H 2350 3550 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-523" H 2450 3600 50  0001 C CNN
F 3 "~" H 2450 3600 50  0001 C CNN
	1    2450 3600
	-1   0    0    1   
$EndComp
$Comp
L power:+5V #PWR0114
U 1 1 639420FC
P 2700 3600
F 0 "#PWR0114" H 2700 3450 50  0001 C CNN
F 1 "+5V" H 2715 3773 50  0000 C CNN
F 2 "" H 2700 3600 50  0001 C CNN
F 3 "" H 2700 3600 50  0001 C CNN
	1    2700 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 3600 2700 3600
Wire Wire Line
	2300 3600 2150 3600
Text Label 2600 3900 2    50   ~ 0
IN2
Wire Wire Line
	2600 3900 2150 3900
Wire Wire Line
	2600 3800 2150 3800
Text Label 2600 3800 2    50   ~ 0
IN1
Text Label 2600 4100 2    50   ~ 0
ENCODER_B
Wire Wire Line
	2600 4100 2150 4100
Wire Wire Line
	2600 4000 2150 4000
Wire Wire Line
	2600 4200 2150 4200
Text Label 2600 4200 2    50   ~ 0
~AU
Text Label 2600 4000 2    50   ~ 0
ENCODER_A
$Comp
L ConnectorsEvo:G2-Port_extended U1
U 1 1 639618D6
P 1650 3850
F 0 "U1" H 1650 4350 50  0000 C CNN
F 1 "G2-Port_extended" H 1650 3350 50  0000 C CNN
F 2 "ConnectorsEvo:G2-port-extended" H 1600 3300 50  0001 C CNN
F 3 "" H 1550 4200 50  0001 C CNN
	1    1650 3850
	1    0    0    -1  
$EndComp
$Comp
L ConnectorsEvo:G2-Port_extended U1
U 2 1 63962CA7
P 7800 5500
F 0 "U1" H 7800 5200 50  0000 C CNN
F 1 "G2-Port_extended" H 7800 5800 50  0000 C CNN
F 2 "ConnectorsEvo:G2-port-extended" H 7750 4950 50  0001 C CNN
F 3 "" H 7700 5850 50  0001 C CNN
	2    7800 5500
	1    0    0    1   
$EndComp
$Comp
L ComponentsEvo:SW_MEC_5G SW1
U 1 1 63967894
P 8700 3950
F 0 "SW1" H 8700 4235 50  0000 C CNN
F 1 "SW_MEC_5G" H 8700 4144 50  0000 C CNN
F 2 "ComponentsEvo:SW_PUSH_6mm_H5mm" H 8700 4150 50  0001 C CNN
F 3 "http://www.apem.com/int/index.php?controller=attachment&id_attachment=488" H 8700 4150 50  0001 C CNN
	1    8700 3950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C14
U 1 1 6396A53D
P 8500 4100
F 0 "C14" H 8615 4146 50  0000 L CNN
F 1 "100nF" H 8615 4055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8538 3950 50  0001 C CNN
F 3 "~" H 8500 4100 50  0001 C CNN
	1    8500 4100
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0116
U 1 1 6396AB8C
P 8900 4250
F 0 "#PWR0116" H 8900 4000 50  0001 C CNN
F 1 "GND" H 8905 4077 50  0000 C CNN
F 2 "" H 8900 4250 50  0001 C CNN
F 3 "" H 8900 4250 50  0001 C CNN
	1    8900 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 4250 8500 4250
Wire Wire Line
	8900 3950 8900 4250
Connection ~ 8900 4250
Connection ~ 8500 3950
Wire Wire Line
	7950 3950 8500 3950
Wire Wire Line
	7950 3550 7950 3950
$Comp
L Device:D D5
U 1 1 639797C5
P 8100 3550
F 0 "D5" H 8250 3500 50  0000 C CNN
F 1 "D" H 8000 3500 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-523" H 8100 3550 50  0001 C CNN
F 3 "~" H 8100 3550 50  0001 C CNN
	1    8100 3550
	-1   0    0    1   
$EndComp
Wire Wire Line
	8250 3550 8900 3550
Text Label 8900 3550 2    50   ~ 0
~RST_MOTOR
Wire Wire Line
	7950 3550 7500 3550
Connection ~ 7950 3550
Text Label 7500 3550 0    50   ~ 0
~RST
Text Label 4650 1500 0    50   ~ 0
~RST
Wire Wire Line
	4650 1500 5100 1500
NoConn ~ 5600 1300
Wire Wire Line
	5700 1300 5800 1300
Connection ~ 5800 1300
Wire Wire Line
	5800 1300 5900 1300
Connection ~ 5900 1300
Wire Wire Line
	5900 1300 6000 1300
$Comp
L power:+3.3V #PWR0117
U 1 1 6398FA27
P 6000 1300
F 0 "#PWR0117" H 6000 1150 50  0001 C CNN
F 1 "+3.3V" H 6015 1473 50  0000 C CNN
F 2 "" H 6000 1300 50  0001 C CNN
F 3 "" H 6000 1300 50  0001 C CNN
	1    6000 1300
	1    0    0    -1  
$EndComp
Connection ~ 6000 1300
Connection ~ 5800 5400
Wire Wire Line
	5600 4300 5700 4300
Connection ~ 5700 4300
Wire Wire Line
	5700 4300 5800 4300
Connection ~ 5800 4300
Wire Wire Line
	5800 4300 5900 4300
$Comp
L power:GND #PWR0118
U 1 1 639B597C
P 5900 4300
F 0 "#PWR0118" H 5900 4050 50  0001 C CNN
F 1 "GND" H 5905 4127 50  0000 C CNN
F 2 "" H 5900 4300 50  0001 C CNN
F 3 "" H 5900 4300 50  0001 C CNN
	1    5900 4300
	1    0    0    -1  
$EndComp
Connection ~ 5900 4300
$Comp
L Device:R R3
U 1 1 639B648D
P 4100 1600
F 0 "R3" V 4050 1750 50  0000 C CNN
F 1 "10K" V 4050 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4030 1600 50  0001 C CNN
F 3 "~" H 4100 1600 50  0001 C CNN
	1    4100 1600
	0    -1   1    0   
$EndComp
$Comp
L power:GND #PWR0119
U 1 1 639BA9D3
P 3850 2100
F 0 "#PWR0119" H 3850 1850 50  0001 C CNN
F 1 "GND" H 3855 1927 50  0000 C CNN
F 2 "" H 3850 2100 50  0001 C CNN
F 3 "" H 3850 2100 50  0001 C CNN
	1    3850 2100
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal Y1
U 1 1 639C2ECA
P 4500 1950
F 0 "Y1" V 4550 1700 50  0000 R CNN
F 1 "16 Mhz" V 4450 1800 50  0000 R CNN
F 2 "" H 4500 1950 50  0001 C CNN
F 3 "~" H 4500 1950 50  0001 C CNN
	1    4500 1950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5100 1900 5000 1900
Wire Wire Line
	5000 1900 5000 1800
Wire Wire Line
	5000 1800 4500 1800
Wire Wire Line
	4500 2100 5000 2100
Wire Wire Line
	5000 2100 5000 2000
Wire Wire Line
	5000 2000 5100 2000
$Comp
L Device:C C5
U 1 1 639F0C6A
P 4100 1800
F 0 "C5" V 4150 1850 50  0000 L CNN
F 1 "22pF" V 4150 1550 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4138 1650 50  0001 C CNN
F 3 "~" H 4100 1800 50  0001 C CNN
	1    4100 1800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4250 1800 4500 1800
Connection ~ 4500 1800
$Comp
L Device:C C6
U 1 1 63A2896B
P 4100 2100
F 0 "C6" V 4050 2150 50  0000 L CNN
F 1 "22pF" V 4050 1850 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4138 1950 50  0001 C CNN
F 3 "~" H 4100 2100 50  0001 C CNN
	1    4100 2100
	0    -1   1    0   
$EndComp
Wire Wire Line
	4250 2100 4500 2100
Connection ~ 4500 2100
Wire Wire Line
	3950 1800 3850 1800
Wire Wire Line
	3850 1800 3850 2100
Wire Wire Line
	3850 2100 3950 2100
Connection ~ 3850 2100
Connection ~ 3850 1800
Wire Wire Line
	3950 1600 3850 1600
Wire Wire Line
	3850 1600 3850 1800
Wire Wire Line
	4250 1600 4650 1600
Wire Wire Line
	4650 1600 4650 1700
Wire Wire Line
	4650 1700 5100 1700
Wire Wire Line
	6400 4000 6900 4000
Text Label 6900 4000 2    50   ~ 0
SWCLK
Wire Wire Line
	6400 3900 6900 3900
Text Label 6900 3900 2    50   ~ 0
SWDIO
Wire Wire Line
	6400 2900 6900 2900
Text Label 6900 2900 2    50   ~ 0
VCP_RX
Wire Wire Line
	6400 2800 6900 2800
Text Label 6900 2800 2    50   ~ 0
VCP_TX
Text Label 4650 3200 0    50   ~ 0
SDA
Wire Wire Line
	4650 3200 5100 3200
Text Label 4650 3300 0    50   ~ 0
SCL
Wire Wire Line
	4650 3300 5100 3300
Text Label 6900 3700 2    50   ~ 0
USB-
Wire Wire Line
	6400 3700 6900 3700
Wire Wire Line
	6400 3800 6900 3800
Text Label 6900 3800 2    50   ~ 0
USB+
Text Label 4650 2300 0    50   ~ 0
IN1
Wire Wire Line
	4650 2300 5100 2300
Text Label 4650 2400 0    50   ~ 0
IN2
Wire Wire Line
	4650 2400 5100 2400
Wire Wire Line
	4650 2200 5100 2200
Text Label 4650 2200 0    50   ~ 0
LED_STATUS
$Comp
L Device:LED D6
U 1 1 63AA1E20
P 10150 3750
F 0 "D6" H 10143 3495 50  0000 C CNN
F 1 "YELLOW" H 10143 3586 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric_Castellated" H 10150 3750 50  0001 C CNN
F 3 "~" H 10150 3750 50  0001 C CNN
	1    10150 3750
	-1   0    0    1   
$EndComp
$Comp
L Device:LED D7
U 1 1 63AA26A2
P 10150 4150
F 0 "D7" H 10143 3895 50  0000 C CNN
F 1 "RED" H 10143 3986 50  0000 C CNN
F 2 "LED_SMD:LED_0805_2012Metric_Castellated" H 10150 4150 50  0001 C CNN
F 3 "~" H 10150 4150 50  0001 C CNN
	1    10150 4150
	-1   0    0    1   
$EndComp
$Comp
L Device:R R7
U 1 1 63AA394F
P 10450 4150
F 0 "R7" V 10350 4150 50  0000 C CNN
F 1 "1K" V 10450 4150 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10380 4150 50  0001 C CNN
F 3 "~" H 10450 4150 50  0001 C CNN
	1    10450 4150
	0    -1   1    0   
$EndComp
$Comp
L Device:R R6
U 1 1 63AA42A3
P 10450 3750
F 0 "R6" V 10350 3750 50  0000 C CNN
F 1 "1K" V 10450 3750 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10380 3750 50  0001 C CNN
F 3 "~" H 10450 3750 50  0001 C CNN
	1    10450 3750
	0    -1   1    0   
$EndComp
Wire Wire Line
	10600 3750 10850 3750
Wire Wire Line
	10600 4150 10850 4150
Wire Wire Line
	10850 4150 10850 3750
$Comp
L power:GND #PWR0120
U 1 1 63AB0648
P 10850 4150
F 0 "#PWR0120" H 10850 3900 50  0001 C CNN
F 1 "GND" H 10855 3977 50  0000 C CNN
F 2 "" H 10850 4150 50  0001 C CNN
F 3 "" H 10850 4150 50  0001 C CNN
	1    10850 4150
	1    0    0    -1  
$EndComp
Connection ~ 10850 4150
Wire Wire Line
	9550 3750 10000 3750
Text Label 9550 3750 0    50   ~ 0
LED_STATUS
Wire Wire Line
	9550 4150 10000 4150
Text Label 9550 4150 0    50   ~ 0
ERR_MOTOR
Wire Wire Line
	4650 3400 5100 3400
Text Label 4650 3400 0    50   ~ 0
~AU
Wire Wire Line
	4650 3500 5100 3500
Text Label 4650 3500 0    50   ~ 0
ERR_MOTOR
$Comp
L Device:R R4
U 1 1 63ACB130
P 10000 1600
F 0 "R4" H 9900 1650 50  0000 C CNN
F 1 "1K" H 9900 1550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 1600 50  0001 C CNN
F 3 "~" H 10000 1600 50  0001 C CNN
	1    10000 1600
	-1   0    0    -1  
$EndComp
Connection ~ 10000 1450
Wire Wire Line
	10000 1450 10050 1450
$Comp
L Device:R R5
U 1 1 63ACB7B6
P 10200 1450
F 0 "R5" V 10300 1450 50  0000 C CNN
F 1 "1K" V 10200 1450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 1450 50  0001 C CNN
F 3 "~" H 10200 1450 50  0001 C CNN
	1    10200 1450
	0    1    -1   0   
$EndComp
Wire Wire Line
	10350 1450 10400 1450
$Comp
L power:GND #PWR0121
U 1 1 63AD9571
P 10400 1750
F 0 "#PWR0121" H 10400 1500 50  0001 C CNN
F 1 "GND" H 10405 1577 50  0000 C CNN
F 2 "" H 10400 1750 50  0001 C CNN
F 3 "" H 10400 1750 50  0001 C CNN
	1    10400 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C16
U 1 1 63AD9CAF
P 10400 1600
F 0 "C16" H 10515 1646 50  0000 L CNN
F 1 "33nF" H 10515 1555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 10438 1450 50  0001 C CNN
F 3 "~" H 10400 1600 50  0001 C CNN
	1    10400 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10400 1450 10550 1450
Connection ~ 10400 1450
Wire Wire Line
	10400 1750 10000 1750
Connection ~ 10400 1750
Wire Wire Line
	6400 3200 6900 3200
Text Label 6900 3200 2    50   ~ 0
SEL1
Wire Wire Line
	6400 3300 6900 3300
Text Label 6900 3300 2    50   ~ 0
INB
Wire Wire Line
	4650 2700 5100 2700
Text Label 4650 2700 0    50   ~ 0
MS
Wire Wire Line
	6400 3600 6900 3600
Text Label 6900 3600 2    50   ~ 0
SEL0
Wire Wire Line
	6400 3500 6900 3500
Text Label 6900 3500 2    50   ~ 0
INA
Wire Wire Line
	6400 3400 6900 3400
Text Label 6900 3400 2    50   ~ 0
PWM
NoConn ~ 6400 3000
NoConn ~ 6400 3100
NoConn ~ 6400 4100
NoConn ~ 5100 4100
NoConn ~ 5100 4000
NoConn ~ 5100 3900
NoConn ~ 5100 3800
NoConn ~ 5100 3100
NoConn ~ 5100 3000
Text Notes 1950 700  0    50   ~ 0
USB
Wire Notes Line
	500  500  3550 500 
Wire Notes Line
	3550 500  3550 2950
Wire Notes Line
	500  2950 500  500 
Wire Notes Line
	500  2950 3550 2950
Wire Notes Line
	3550 3000 3550 4550
Wire Notes Line
	3550 4550 500  4550
Wire Notes Line
	500  4550 500  3000
Wire Notes Line
	500  3000 3550 3000
Text Notes 1650 3150 0    50   ~ 0
G2 Input Port
Wire Notes Line
	3550 4600 3550 6150
Wire Notes Line
	3550 6150 500  6150
Wire Notes Line
	500  4600 3550 4600
Text Notes 1750 4750 0    50   ~ 0
STLINK
Wire Notes Line
	500  4600 500  6150
Wire Notes Line
	3600 4550 7200 4550
Wire Notes Line
	7200 4550 7200 500 
Wire Notes Line
	7200 500  3600 500 
Wire Notes Line
	3600 500  3600 4550
Text Notes 5350 650  0    50   ~ 0
STM32
Wire Notes Line
	11200 500  7250 500 
Wire Notes Line
	7250 500  7250 2950
Text Notes 9050 650  0    50   ~ 0
Motor Driver
Wire Notes Line
	7250 2950 11200 2950
Wire Notes Line
	11200 500  11200 2950
Text Notes 5000 4750 0    50   ~ 0
3.3V Regulation
Wire Notes Line
	3600 4600 7200 4600
Wire Notes Line
	7200 4600 7200 6150
Wire Notes Line
	7200 6150 3600 6150
Wire Notes Line
	3600 6150 3600 4600
Wire Notes Line
	7250 3000 9200 3000
Wire Notes Line
	9200 3000 9200 4550
Wire Notes Line
	9200 4550 7250 4550
Wire Notes Line
	7250 3000 7250 4550
Wire Notes Line
	11200 3000 11200 4550
Wire Notes Line
	11200 4550 9250 4550
Wire Notes Line
	9250 3000 9250 4550
Wire Notes Line
	9250 3000 11200 3000
Text Notes 10100 3150 0    50   ~ 0
Leds
Text Notes 8150 3150 0    50   ~ 0
Reset
Wire Notes Line
	9200 6150 7250 6150
Wire Notes Line
	7250 6150 7250 4600
Wire Notes Line
	7250 4600 9200 4600
Wire Notes Line
	9200 4600 9200 6150
Text Notes 7850 4750 0    50   ~ 0
G2 Motor Output
$Comp
L Device:C C4
U 1 1 63E1C4D9
P 3850 950
F 0 "C4" H 3965 996 50  0000 L CNN
F 1 "10uF" H 3965 905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3888 800 50  0001 C CNN
F 3 "~" H 3850 950 50  0001 C CNN
	1    3850 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:C C10
U 1 1 63E1C9C6
P 5150 950
F 0 "C10" H 5265 996 50  0000 L CNN
F 1 "10nF" H 5265 905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5188 800 50  0001 C CNN
F 3 "~" H 5150 950 50  0001 C CNN
	1    5150 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:C C7
U 1 1 63E1D4CB
P 4250 950
F 0 "C7" H 4365 996 50  0000 L CNN
F 1 "100nF" H 4365 905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4288 800 50  0001 C CNN
F 3 "~" H 4250 950 50  0001 C CNN
	1    4250 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:C C12
U 1 1 63E258E5
P 7800 1600
F 0 "C12" H 7915 1646 50  0000 L CNN
F 1 "10uF" H 7915 1555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 7838 1450 50  0001 C CNN
F 3 "~" H 7800 1600 50  0001 C CNN
	1    7800 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	7700 1450 7800 1450
Connection ~ 7800 1450
Wire Wire Line
	7800 1450 8250 1450
Wire Wire Line
	7700 1750 7800 1750
Connection ~ 7800 1750
Wire Wire Line
	7800 1750 8250 1750
$Comp
L Device:C C9
U 1 1 63E3E756
P 4700 950
F 0 "C9" H 4815 996 50  0000 L CNN
F 1 "100nF" H 4815 905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4738 800 50  0001 C CNN
F 3 "~" H 4700 950 50  0001 C CNN
	1    4700 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3850 1100 4250 1100
Connection ~ 4250 1100
Wire Wire Line
	4250 1100 4700 1100
Connection ~ 4700 1100
Wire Wire Line
	4700 1100 5150 1100
$Comp
L power:+3.3V #PWR0122
U 1 1 63E68465
P 3850 800
F 0 "#PWR0122" H 3850 650 50  0001 C CNN
F 1 "+3.3V" H 3865 973 50  0000 C CNN
F 2 "" H 3850 800 50  0001 C CNN
F 3 "" H 3850 800 50  0001 C CNN
	1    3850 800 
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0123
U 1 1 63E687E1
P 3850 1100
F 0 "#PWR0123" H 3850 850 50  0001 C CNN
F 1 "GND" H 3855 927 50  0000 C CNN
F 2 "" H 3850 1100 50  0001 C CNN
F 3 "" H 3850 1100 50  0001 C CNN
	1    3850 1100
	1    0    0    -1  
$EndComp
Connection ~ 3850 1100
Wire Wire Line
	3850 800  4250 800 
Connection ~ 3850 800 
Connection ~ 4250 800 
Wire Wire Line
	4250 800  4700 800 
Connection ~ 4700 800 
Wire Wire Line
	4700 800  5150 800 
Wire Wire Line
	9850 2200 10150 2200
Wire Wire Line
	9850 2500 10150 2500
Wire Wire Line
	5100 2600 4650 2600
Text Label 6850 2700 2    50   ~ 0
ENCODER_B
Wire Wire Line
	6850 2700 6400 2700
Wire Wire Line
	6850 2600 6400 2600
Text Label 6850 2600 2    50   ~ 0
ENCODER_A
Text Label 4650 2600 0    50   ~ 0
MS_EN
Wire Wire Line
	5100 2800 4650 2800
NoConn ~ 5100 2900
Text Label 4650 2800 0    50   ~ 0
A2
Wire Wire Line
	5100 3600 4650 3600
Wire Wire Line
	5100 3700 4650 3700
Text Label 4650 3600 0    50   ~ 0
A1
Text Label 4650 3700 0    50   ~ 0
A0
$Comp
L Switch:SW_DIP_x03 SW2
U 1 1 63EF30DC
P 9850 5550
F 0 "SW2" H 9850 5900 50  0000 C CNN
F 1 "SW_DIP_x03" H 9850 5400 50  0000 C CNN
F 2 "" H 9850 5550 50  0001 C CNN
F 3 "~" H 9850 5550 50  0001 C CNN
	1    9850 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	9450 5550 9450 5450
Wire Wire Line
	9450 5550 9550 5550
Wire Wire Line
	9550 5350 9450 5350
Wire Wire Line
	9550 5450 9450 5450
Connection ~ 9450 5450
Wire Wire Line
	9450 5450 9450 5350
$Comp
L power:+3.3V #PWR01
U 1 1 63F10863
P 9450 5350
F 0 "#PWR01" H 9450 5200 50  0001 C CNN
F 1 "+3.3V" H 9465 5523 50  0000 C CNN
F 2 "" H 9450 5350 50  0001 C CNN
F 3 "" H 9450 5350 50  0001 C CNN
	1    9450 5350
	1    0    0    -1  
$EndComp
Connection ~ 9450 5350
$Comp
L Device:R R8
U 1 1 63F10ECA
P 10200 5700
F 0 "R8" H 10050 5750 50  0000 C CNN
F 1 "10K" H 10050 5650 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5700 50  0001 C CNN
F 3 "~" H 10200 5700 50  0001 C CNN
	1    10200 5700
	-1   0    0    -1  
$EndComp
Wire Wire Line
	10150 5550 10200 5550
Connection ~ 10200 5550
Text Label 10350 5550 2    50   ~ 0
A0
$Comp
L Device:R R9
U 1 1 63F25C16
P 10450 5600
F 0 "R9" H 10300 5650 50  0000 C CNN
F 1 "10K" H 10300 5550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10380 5600 50  0001 C CNN
F 3 "~" H 10450 5600 50  0001 C CNN
	1    10450 5600
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R10
U 1 1 63F2601A
P 10750 5500
F 0 "R10" H 10600 5550 50  0000 C CNN
F 1 "10K" H 10600 5450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10680 5500 50  0001 C CNN
F 3 "~" H 10750 5500 50  0001 C CNN
	1    10750 5500
	-1   0    0    -1  
$EndComp
Connection ~ 10750 5350
Wire Wire Line
	10750 5350 10900 5350
Connection ~ 10450 5450
Wire Wire Line
	10450 5450 10600 5450
Text Label 10600 5450 2    50   ~ 0
A1
Wire Wire Line
	10200 5550 10350 5550
Wire Wire Line
	10150 5450 10450 5450
Wire Wire Line
	10150 5350 10750 5350
Text Label 10900 5350 2    50   ~ 0
A2
Wire Wire Line
	10200 5850 10450 5850
Wire Wire Line
	10750 5850 10750 5650
Wire Wire Line
	10450 5750 10450 5850
Connection ~ 10450 5850
Wire Wire Line
	10450 5850 10750 5850
$Comp
L power:GND #PWR02
U 1 1 63F80C17
P 10750 5850
F 0 "#PWR02" H 10750 5600 50  0001 C CNN
F 1 "GND" H 10755 5677 50  0000 C CNN
F 2 "" H 10750 5850 50  0001 C CNN
F 3 "" H 10750 5850 50  0001 C CNN
	1    10750 5850
	1    0    0    -1  
$EndComp
Connection ~ 10750 5850
Wire Notes Line
	9250 4600 11150 4600
Wire Notes Line
	11150 4600 11150 6150
Wire Notes Line
	11150 6150 9250 6150
Wire Notes Line
	9250 6150 9250 4600
Text Notes 9800 4750 0    50   ~ 0
Address Selection
$Comp
L Device:D D2
U 1 1 6392F9CC
P 3050 1100
F 0 "D2" H 3200 1050 50  0000 C CNN
F 1 "D" H 2950 1050 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-523" H 3050 1100 50  0001 C CNN
F 3 "~" H 3050 1100 50  0001 C CNN
	1    3050 1100
	-1   0    0    1   
$EndComp
Wire Wire Line
	2800 1600 2800 1100
Connection ~ 2800 1100
Wire Wire Line
	2800 1100 2900 1100
Wire Wire Line
	4600 5200 4650 5200
Wire Wire Line
	4600 5400 4650 5400
Wire Wire Line
	1750 1300 2050 1300
Wire Wire Line
	1750 1400 2050 1400
Wire Wire Line
	2350 1300 2650 1300
Wire Wire Line
	2350 1400 2650 1400
Connection ~ 2650 1400
Wire Wire Line
	2650 1400 2650 2600
$Comp
L power:+3.3VP #PWR0115
U 1 1 640191B4
P 2900 3700
F 0 "#PWR0115" H 3050 3650 50  0001 C CNN
F 1 "+3.3VP" H 2915 3873 50  0000 C CNN
F 2 "" H 2900 3700 50  0001 C CNN
F 3 "" H 2900 3700 50  0001 C CNN
	1    2900 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 3700 2900 3700
$Comp
L power:+3.3VP #PWR0124
U 1 1 64024F96
P 6150 5000
F 0 "#PWR0124" H 6300 4950 50  0001 C CNN
F 1 "+3.3VP" H 6165 5173 50  0000 C CNN
F 2 "" H 6150 5000 50  0001 C CNN
F 3 "" H 6150 5000 50  0001 C CNN
	1    6150 5000
	1    0    0    -1  
$EndComp
$Comp
L Jumper:SolderJumper_3_Open JP1
U 1 1 640278A9
P 6150 5200
F 0 "JP1" V 6350 4650 50  0000 L CNN
F 1 "SolderJumper_3_Open" V 6400 4300 50  0000 L CNN
F 2 "Jumper:SolderJumper-3_P2.0mm_Open_TrianglePad1.0x1.5mm_NumberLabels" H 6150 5200 50  0001 C CNN
F 3 "~" H 6150 5200 50  0001 C CNN
	1    6150 5200
	0    -1   1    0   
$EndComp
Wire Wire Line
	5800 5400 6150 5400
Wire Wire Line
	6300 5200 6550 5200
$EndSCHEMATC
